{% extends "base.html" %}

{% block title %}User Guide - BizManage Pro{% endblock %}

{% block content %}
<div class="row">
    <!-- Guide Navigation -->
    <div class="col-md-3">
        <div class="card sticky-top" style="top: 1rem;">
            <div class="card-body">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Search guide..." 
                           id="searchGuide">
                    <button class="btn btn-outline-secondary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>

                <nav id="guideNav" class="nav flex-column">
                    <div class="nav-section mb-2">
                        <a class="nav-link fw-bold" href="#dashboard">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </a>
                        <div class="ms-3">
                            <a class="nav-link" href="#dashboard-overview">Overview</a>
                            <a class="nav-link" href="#dashboard-widgets">Widgets</a>
                            <a class="nav-link" href="#dashboard-customization">Customization</a>
                        </div>
                    </div>

                    <div class="nav-section mb-2">
                        <a class="nav-link fw-bold" href="#inventory">
                            <i class="fas fa-boxes"></i> Inventory Management
                        </a>
                        <div class="ms-3">
                            <a class="nav-link" href="#adding-products">Adding Products</a>
                            <a class="nav-link" href="#managing-stock">Managing Stock</a>
                            <a class="nav-link" href="#categories">Categories</a>
                        </div>
                    </div>

                    <div class="nav-section mb-2">
                        <a class="nav-link fw-bold" href="#sales">
                            <i class="fas fa-shopping-cart"></i> Sales
                        </a>
                        <div class="ms-3">
                            <a class="nav-link" href="#creating-orders">Creating Orders</a>
                            <a class="nav-link" href="#processing-payments">Processing Payments</a>
                            <a class="nav-link" href="#refunds">Refunds</a>
                        </div>
                    </div>

                    <!-- Additional sections... -->
                </nav>
            </div>
        </div>
    </div>

    <!-- Guide Content -->
    <div class="col-md-9">
        <div class="card">
            <div class="card-body">
                <h1>User Guide</h1>
                <p class="lead">
                    Welcome to the BizManage Pro user guide. This comprehensive guide will help
                    you make the most of our platform.
                </p>

                <section id="dashboard" class="mb-5">
                    <h2>Dashboard</h2>
                    
                    <div id="dashboard-overview" class="mb-4">
                        <h3>Overview</h3>
                        <p>
                            The dashboard is your central hub for monitoring your business
                            performance and accessing key features.
                        </p>
                        <img src="{{ url_for('static', filename='img/docs/dashboard-overview.png') }}"
                             class="img-fluid rounded shadow-sm mb-3" alt="Dashboard Overview">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i> 
                            Tip: You can customize the dashboard layout to show the information
                            most important to you.
                        </div>
                    </div>

                    <div id="dashboard-widgets" class="mb-4">
                        <h3>Widgets</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h5>Sales Overview Widget</h5>
                                        <p>
                                            Displays daily, weekly, and monthly sales trends with
                                            comparison to previous periods.
                                        </p>
                                        <ul>
                                            <li>Revenue metrics</li>
                                            <li>Order count</li>
                                            <li>Average order value</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- Additional widgets... -->
                        </div>
                    </div>

                    <div id="dashboard-customization" class="mb-4">
                        <h3>Customization</h3>
                        <ol>
                            <li>Click the "Customize" button in the top-right corner</li>
                            <li>Drag and drop widgets to rearrange them</li>
                            <li>Click the gear icon on each widget to configure settings</li>
                            <li>Use the "Add Widget" button to add new widgets</li>
                        </ol>
                        <div class="card bg-light">
                            <div class="card-body">
                                <h5>Video Tutorial</h5>
                                <div class="ratio ratio-16x9">
                                    <iframe src="https://www.youtube.com/embed/example"
                                            allowfullscreen></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Additional sections... -->
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Smooth scroll for navigation
document.querySelectorAll('#guideNav a').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    });
});

// Search functionality
const searchInput = document.getElementById('searchGuide');
searchInput.addEventListener('input', function(e) {
    const query = e.target.value.toLowerCase();
    const sections = document.querySelectorAll('.card-body section');
    
    sections.forEach(section => {
        const text = section.textContent.toLowerCase();
        if (text.includes(query)) {
            section.style.display = 'block';
        } else {
            section.style.display = 'none';
        }
    });
});

// Active section highlighting
const sections = document.querySelectorAll('section');
window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (pageYOffset >= sectionTop - 60) {
            current = section.getAttribute('id');
        }
    });

    document.querySelectorAll('#guideNav a').forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href').slice(1) === current) {
            link.classList.add('active');
        }
    });
});
</script>
{% endblock %} 