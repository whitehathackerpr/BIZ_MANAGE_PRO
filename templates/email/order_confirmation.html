{% extends "email/base.html" %}

{% block title %}Order Confirmation #{{ order.number }}{% endblock %}

{% block content %}
<h2>Order Confirmation</h2>
<p>Dear {{ customer.name }},</p>
<p>Thank you for your order! Here are your order details:</p>

<div style="background-color: #f8f9fa; padding: 15px; border-radius: 4px;">
    <h3 style="margin-top: 0;">Order #{{ order.number }}</h3>
    <p>Date: {{ order.created_at|datetime }}</p>
    
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="border-bottom: 2px solid #dee2e6;">
                <th style="text-align: left; padding: 8px;">Item</th>
                <th style="text-align: right; padding: 8px;">Quantity</th>
                <th style="text-align: right; padding: 8px;">Price</th>
                <th style="text-align: right; padding: 8px;">Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order.items %}
            <tr style="border-bottom: 1px solid #dee2e6;">
                <td style="padding: 8px;">{{ item.product.name }}</td>
                <td style="text-align: right; padding: 8px;">{{ item.quantity }}</td>
                <td style="text-align: right; padding: 8px;">
                    ${{ item.price|format_currency }}
                </td>
                <td style="text-align: right; padding: 8px;">
                    ${{ item.total|format_currency }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3" style="text-align: right; padding: 8px;">Subtotal:</td>
                <td style="text-align: right; padding: 8px;">
                    ${{ order.subtotal|format_currency }}
                </td>
            </tr>
            {% if order.tax_amount > 0 %}
            <tr>
                <td colspan="3" style="text-align: right; padding: 8px;">Tax:</td>
                <td style="text-align: right; padding: 8px;">
                    ${{ order.tax_amount|format_currency }}
                </td>
            </tr>
            {% endif %}
            <tr>
                <td colspan="3" style="text-align: right; padding: 8px;">
                    <strong>Total:</strong>
                </td>
                <td style="text-align: right; padding: 8px;">
                    <strong>${{ order.total|format_currency }}</strong>
                </td>
            </tr>
        </tfoot>
    </table>
</div>

<div style="margin-top: 20px;">
    <h4>Payment Information</h4>
    <p>
        Method: {{ order.payment_method }}<br>
        Status: {{ order.payment_status }}
    </p>
</div>

<p style="text-align: center; margin-top: 20px;">
    <a href="{{ order_url }}" class="button">View Order Details</a>
</p>

<p>
    If you have any questions about your order, please contact us at 
    {{ company.support_email }} or call {{ company.phone }}.
</p>

<p>Thank you for your business!</p>
{% endblock %} 